<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>在线添加节点</title>
</head>

<body>

六 节点数据迁移
1 创建数据目录并上传数据
<p><img src="6.1.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>

2 查看是否上传成功
<p><img src="6.2.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>

3 查看其各个节点存储状态
<p><img src="6.3.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
<p><img src="6.4.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
<p><img src="6.5.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
<p><img src="6.6.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
4 配置下线
<p>[root@hadoop ~]# vim etc/hadoop/hdfs.site.xml</p>
<p><img src="6.7.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
配置下线用户为server3
<p><img src="6.8.png" height="100px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
<p><img src="6.9.png" height="100px" width="700px" alt="上海鲜花港 - 郁金香" /></p>

5 生效配置文件
<p><img src="6.10.png" height="100px" width="700px" alt="上海鲜花港 - 郁金香" /></p>


6 查看serever3状态，如果为normal 则表示迁移完成，否则未完成
<p><img src="6.11.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>



7 查看其他节点存储，发现存储已经增加，则表明数据迁移完成
<p><img src="6.12.png" height="100px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
<p><img src="6.13.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>
<p><img src="6.14.png" height="300px" width="700px" alt="上海鲜花港 - 郁金香" /></p>

8 关闭datanode节点，下线成功
<p><img src="6.15.png" height="100px" width="700px" alt="上海鲜花港 - 郁金香" /></p>

9 开启其他节点的nodemanager服务
<p><img src="6.16.png" height="100px" width="700px" alt="上海鲜花港 - 郁金香" /></p>

<a href="gky.html" >下一篇：高可用</a>
</body>
</html>
